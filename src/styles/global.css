@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* CSS переменные для дизайна из Figma */
:root {
  /* Figma design colors */
  --panel-bg: rgba(255, 255, 255, 0.6);
  --panel-border: linear-gradient(142deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0) 15%, rgba(255, 255, 255, 0) 66%, rgba(255, 255, 255, 0.4) 100%);
  --panel-shadow: 0px 4px 20px 0px rgba(0, 0, 0, 0.15), inset 0px 2px 4px 0px rgba(255, 255, 255, 0.25);
  
  --button-bg: #000000;
  --button-text: #FFFFFF;
  
  --drag-zone-bg: rgba(255, 255, 255, 0.16);
  --drag-dots: rgba(0, 0, 0, 0.4);
  --separator: rgba(0, 0, 0, 0.08);
  
  --text-primary: #000000;
  --text-secondary: #373737;
  
  /* Legacy colors for backward compatibility */
  --bg-primary: rgba(30, 30, 30, 0.95);
  --bg-secondary: rgba(45, 45, 45, 0.8);
  --border-primary: rgba(147, 155, 166, 0.5);
}

/* Базовые стили для прозрачного окна */
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: transparent !important;
}

#root, #app {
  height: 100vh;
  background: transparent !important;
}

/* Кастомные стили скроллбара */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: rgb(71 85 105) transparent;
}

.scrollbar-thin::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background-color: rgb(71 85 105);
  border-radius: 2px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background-color: rgb(100 116 139);
}

/* Селекция текста */
::selection {
  background-color: rgba(59, 130, 246, 0.3);
  color: rgb(248, 250, 252);
}

/* Фокус для accessibility */
button:focus-visible,
input:focus-visible,
textarea:focus-visible {
  outline: 2px solid rgb(59 130 246);
  outline-offset: 2px;
}

/* Liquid Glass эффект */
.liquid-glass {
  background: 
    /* Основной полупрозрачный слой */
    radial-gradient(ellipse at top left, rgba(255, 255, 255, 0.15) 0%, transparent 50%),
    radial-gradient(ellipse at bottom right, rgba(120, 119, 198, 0.12) 0%, transparent 50%),
    radial-gradient(ellipse at center, rgba(255, 255, 255, 0.08) 0%, transparent 70%),
    /* Базовый стеклянный слой */
    linear-gradient(135deg, 
      rgba(255, 255, 255, 0.12) 0%, 
      rgba(255, 255, 255, 0.04) 25%,
      rgba(0, 0, 0, 0.02) 50%,
      rgba(255, 255, 255, 0.08) 75%,
      rgba(255, 255, 255, 0.15) 100%
    );
  
  /* Попытка применить backdrop-filter если поддерживается */
  backdrop-filter: blur(20px) saturate(180%) brightness(110%);
  -webkit-backdrop-filter: blur(20px) saturate(180%) brightness(110%);
  
  /* Анимация для живого эффекта */
  animation: liquid-shimmer 8s ease-in-out infinite alternate;
}

@keyframes liquid-shimmer {
  0% {
    background: 
      radial-gradient(ellipse at top left, rgba(255, 255, 255, 0.15) 0%, transparent 50%),
      radial-gradient(ellipse at bottom right, rgba(120, 119, 198, 0.12) 0%, transparent 50%),
      radial-gradient(ellipse at center, rgba(255, 255, 255, 0.08) 0%, transparent 70%),
      linear-gradient(135deg, 
        rgba(255, 255, 255, 0.12) 0%, 
        rgba(255, 255, 255, 0.04) 25%,
        rgba(0, 0, 0, 0.02) 50%,
        rgba(255, 255, 255, 0.08) 75%,
        rgba(255, 255, 255, 0.15) 100%
      );
  }
  
  50% {
    background: 
      radial-gradient(ellipse at top right, rgba(255, 255, 255, 0.18) 0%, transparent 50%),
      radial-gradient(ellipse at bottom left, rgba(99, 179, 237, 0.15) 0%, transparent 50%),
      radial-gradient(ellipse at center, rgba(255, 255, 255, 0.12) 0%, transparent 70%),
      linear-gradient(225deg, 
        rgba(255, 255, 255, 0.15) 0%, 
        rgba(255, 255, 255, 0.06) 25%,
        rgba(0, 0, 0, 0.01) 50%,
        rgba(255, 255, 255, 0.10) 75%,
        rgba(255, 255, 255, 0.18) 100%
      );
  }
  
  100% {
    background: 
      radial-gradient(ellipse at bottom left, rgba(255, 255, 255, 0.20) 0%, transparent 50%),
      radial-gradient(ellipse at top right, rgba(168, 85, 247, 0.10) 0%, transparent 50%),
      radial-gradient(ellipse at center, rgba(255, 255, 255, 0.06) 0%, transparent 70%),
      linear-gradient(315deg, 
        rgba(255, 255, 255, 0.18) 0%, 
        rgba(255, 255, 255, 0.08) 25%,
        rgba(0, 0, 0, 0.03) 50%,
        rgba(255, 255, 255, 0.12) 75%,
        rgba(255, 255, 255, 0.20) 100%
      );
  }
}

/* Радиальный градиент для теней */
.bg-gradient-radial {
  background: radial-gradient(var(--tw-gradient-stops));
}

/* Glass кнопки */
.glass-button {
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.1) 0%, 
    rgba(255, 255, 255, 0.05) 50%,
    rgba(255, 255, 255, 0.08) 100%
  );
  backdrop-filter: blur(10px) saturate(150%);
  -webkit-backdrop-filter: blur(10px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.glass-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 0.5s ease;
}

.glass-button:hover::before {
  left: 100%;
}

.glass-button:hover {
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.15) 0%, 
    rgba(255, 255, 255, 0.08) 50%,
    rgba(255, 255, 255, 0.12) 100%
  );
  border-color: rgba(255, 255, 255, 0.25);
  transform: translateY(-1px);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.glass-button-active {
  background: linear-gradient(135deg, 
    rgba(59, 130, 246, 0.2) 0%, 
    rgba(59, 130, 246, 0.1) 50%,
    rgba(59, 130, 246, 0.15) 100%
  );
  backdrop-filter: blur(10px) saturate(150%);
  -webkit-backdrop-filter: blur(10px) saturate(150%);
  border: 1px solid rgba(59, 130, 246, 0.3);
  transition: all 0.3s ease;
}

/* Улучшенная поддержка backdrop-filter */
@supports (backdrop-filter: blur(1px)) {
  .glass-effect {
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
  }
}

@supports not (backdrop-filter: blur(1px)) {
  .glass-effect {
    background: rgba(255, 255, 255, 0.1);
  }
}

/* Frosted glass эффект */
.frosted-glass {
  position: relative;
  overflow: hidden;
}

.frosted-glass::before {
  content: '';
  position: absolute;
  inset: -50%;
  background: inherit;
  filter: blur(50px);
  opacity: 0.4;
  z-index: -1;
}

/* Альтернативный способ для webkit */
@supports (-webkit-backdrop-filter: blur(1px)) {
  .frosted-glass > div:first-child {
    -webkit-backdrop-filter: blur(12px) saturate(150%);
    backdrop-filter: blur(12px) saturate(150%);
  }
}

/* Анимации появления */
@keyframes animate-in {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-in {
  animation: animate-in 0.2s ease-out;
}

@keyframes slide-in-from-right {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.slide-in-from-right {
  animation: slide-in-from-right 0.3s ease-out;
}